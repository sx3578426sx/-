<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax請求練習</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<!-- 可以上網搜尋open data api，例如:政府資料開放平台
    CORS = 跨網域資源共享(後端在用的，要先設定好，前端才能抓的到資料(.json檔)) -->

<body>
    <div>Ajax請求練習--資料來源為本機json</div>
    <ul id="myData"></ul>
    <script>
    // 用ajax呼叫API(https://run.mocky.io/v3/c8c6ed5f-7804-493e-9e78-09cd612fda16)
        
    // 取得回傳結果然後顯示在頁面上
        

    // 呼叫API失敗會回傳的值
    

    // 不管成功或失敗都會顯示的值
            
    </script>
</body>
</html>
<!-- <script>
    // 用ajax呼叫API(https://run.mocky.io/v3/c8c6ed5f-7804-493e-9e78-09cd612fda16)
        $.ajax({
            type: "GET",
            url: "https://run.mocky.io/v3/c8c6ed5f-7804-493e-9e78-09cd612fda16",
            // data: {
            //     "參數1":"我是參數",
            //     Param1:123,
            //     "如果用GET就不用放data":"除非有要求要放，不然可能報錯"
            // },
            dataType: "json",
            success: function(data, textStatus, jqXHR){
                console.log("成功");
                console.log("success data =" + data);
                console.log("success textStatus =" + textStatus);
                console.log("success jqXHR =" + jqXHR);

            // 取得回傳結果然後顯示在頁面上
                var html = "";
                for(var i = 0; i < data.length; i++){
                    html += "<li>"+ data[i].strText +"</li>"
                }
                document.getElementById("myData").innerHTML = html;
                // $("#myData").html(html);
            },

            // 呼叫API失敗會回傳的值
            error: function(jqXHR, textStatus, errorThrown){
                console.log("失敗");
                console.log("error jqXHR =" + jqXHR);
                console.log("error textStatus =" + textStatus);
                console.log("errorThrown =" + errorThrown);
            },

            // 不管成功或失敗都會顯示的值
            complete: function(jqXHR, textStatus){
                console.log("完成");
                console.log("complete jqXHR =" + jqXHR);
                console.log("complete textStatus =" + textStatus);
            }
        }) -->
    <!-- // jQuery中Ajax參數用法(https://awpluway.pixnet.net/blog/post/364195038)
    //     $.ajax({
    //                 type :"GET",
    //                 url  : "/testServlet/myServlet",
    //                 data : { 
    //                     datafromtestFile : $("#input").val(),                            
    //                     },
    //                 dataType: "text",
    //                 success : function(happy) {
    //                     $("#output").html(happy);                            
    //             }
    //             })
    //     });
    // ajax當中的參數說明：
    // url(String)：指定要進行呼叫的位址。
    // data(Map)：傳送至Server的資料，必須為Key/Value格式，GET請求中將附加在URL後面。
    // type(String)：請求方式，POST/GET。(預設為GET) 大小寫都可以
    // dataType(String)：預期Server傳回的資料類型，如果沒指定，jQuery會根據HTTP MIME Type自動選擇以responseXML或responseText傳入你的success callback。可選的資料類型有：
    //         xml：傳回可用jQuery處理的XML。
    //         html：傳回HTML，包含script tags。
    //         script：傳回可執行的JavaScript。
    //         json：傳回JSON。
    //         jsonp：JSONP 格式。在URL加上?callback=?參數，並在Server端配合送回此jsonp callback。
    //         text：傳回純文字字串。
    // success：請求成功時執行函式。
    //                 function (data, textStatus) {
    //                     // data 可以是 xmlDoc, jsonObj, html, text, 但還是要參考datatype                          
    //                 }
    // error：請求失敗時執行函式。
    //         function (xhr, ajaxOptions, thrownError) {
    //                 //通常ajaxOptions或thrownError只有一個有值
    //         }
    // complete：請求完成時執行的函式(不論結果是success或error)。
    //                 function (XMLHttpRequest, textStatus) {
    //                 // the options for this ajax request
    //                 } -->