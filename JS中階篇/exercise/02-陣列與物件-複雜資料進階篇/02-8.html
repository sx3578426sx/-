<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>操作資料才是王道 1</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/02-8.css">
</head>
<body>
    <div id="app">
        <a class="menuBtn"><i class="fas fa-bars fa-3x"></i></a>
        <div class="content">
            <img src="./images/logo2.png" alt="">
        </div>

        <div class="menu ">
            <a class="closeBtn"><i class="fas fa-times fa-3x"></i></a>
            <ul class="nav">
                <li><a>abous</a></li>
                <li><a>content</a></li>
                <li><a>user</a></li>
                <li><a>address</a></li>
            </ul>
        </div>
    </div>
    <script>
        // 抓所有class，先宣告一個物件讓清單預設為關閉
        let menuBtn = document.getElementsByClassName("menuBtn")[0];
        let menu = document.getElementsByClassName("menu")[0];
        let closeBtn = document.getElementsByClassName("closeBtn")[0];
        let data = {
            isOpen: false
        }
        // 監聽該物件data的值isOpen改變時會做的事情
        // GET:回傳物件
        // SET:物件=value;執行handClass函數
        Object.defineProperty(data,"isOpen",{
            get: function(){
                return isOpen
            },
            set: function(value){
                isOpen = value;
                handClass();
            }
        })
        // handClass函數，用來控制開關，如果回傳ture，menu就新增class(open)，如果不是就移除
        function handClass(){
            if(data.isOpen){
                menu.classList.add('open');
            }
            else{
                menu.classList.remove('open');
            }
        }
        // ======================================================================
        // 清單按鈕(true)跟關閉(close)按鈕加入點擊事件，分別改變data.isOpen的值
        menuBtn.addEventListener("click", function(){
            data.isOpen = true;
        })
        closeBtn.addEventListener("click", function(){
            data.isOpen = false;
        })
        // ======================================================================
        
        // 入門篇提到不透過Object.defineProperty的寫法如下
        // menuBtn.addEventListener('click', function(){
        //     menu.classList.add('open');
        // })
        // closeBtn.addEventListener('click', function(){
        //     menu.classList.remove('open');
        // })
    </script>
</body>
</html>